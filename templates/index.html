<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{{ name }}的学习计划</title>

    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
      type="text/css"
    />

    {% extends 'base.html' %} {% block content %} 
    <p>{{ movies|length }} Titles</p>
    <ul class="movie-list">
      {% for movie in movies %}
      <li>
        {% if movie.title == '畅神' %}
        <a>★★★</a>

        {% else %}
        <a></a>
        {% endif %} {{ movie.title }} - {{ movie.year }}
        <span class="float-right">
          <a
            class="imdb"
            href="https://www.imdb.com/find?q={{ movie.title }}"
            target="_blank"
            title="去看看"
            >加入QQ群和他聊天>></a
          >
        </span>
      </li>
      {% endfor %}
    </ul>
    <img
      alt="Walking Totoro"
      class="totoro"
      src="{{ url_for('static', filename='images/black.gif') }}"
      title="to~to~ro~"
    />
    {% endblock %}
  </head>

  <body>
    <h1>
      <img
        alt="Avatar"
        class="avatar"
        src="{{ url_for('static', filename='images/avatar.png') }}"
      />
      {{ name }} 的学习计划
    </h1>

    <p>{{ movies|length }} Titles</p>
    <form method="post">
      Name <input type="text" name="title" autocomplete="off" required /> Year
      <input type="text" name="year" autocomplete="off" required />
      <input class="btn" type="submit" name="submit" value="Add" />
    </form>

    {# 使用 length 过滤器获取 movies 变量的长度 #}
    <p>{{ movies|length }} 个小目标</p>
    <ul>
      {% for movie in movies %} {# 迭代 movies 变量 #}
      <li class="movie-list">{{ movie.title }} - {{ movie.year }}</li>
      {# 等同于 movie['title'] #} {% endfor %} {# 使用 endfor 标签结束 for 语句
      #}

      <img
        alt="Walking Totoro"
        class="totoro"
        src="{{ url_for('static', filename='images/black.gif') }}"
      />
    </ul>

    <footer>
      <small>&copy; 2024 <a>DTer</a></small>
    </footer>
  </body>
</html>
